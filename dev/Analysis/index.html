<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Analysis · ReactionMechanismSimulator.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>ReactionMechanismSimulator.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../Input/">Input</a></li><li><a class="toctext" href="../Simulating/">Simulations</a></li><li class="current"><a class="toctext" href>Analysis</a><ul class="internal"><li><a class="toctext" href="#The-Simulation-Object-1">The Simulation Object</a></li><li><a class="toctext" href="#Useful-Properties-1">Useful Properties</a></li><li><a class="toctext" href="#Plotting-1">Plotting</a></li><li><a class="toctext" href="#Flux-Diagrams-1">Flux Diagrams</a></li><li><a class="toctext" href="#Other-Useful-Functionality-1">Other Useful Functionality</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Analysis</a></li></ul><a class="edit-page" href="https://github.com/mjohnson541/ReactionMechanismSimulator.jl/blob/master/docs/src/Analysis.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Analysis</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Analysis-1" href="#Analysis-1">Analysis</a></h1><h2><a class="nav-anchor" id="The-Simulation-Object-1" href="#The-Simulation-Object-1">The Simulation Object</a></h2><p>Since the solver interface is exposed the solution object generated only gives the raw moles and raw sensitivity values, which typically are not what a user wants.  The Simulation object combines the solution information and the domain information to calculate much more useful properties of the solution.  </p><p>The Simulation object can be defined:  </p><pre><code class="language-none">bsol = Simulation(sol,domain)</code></pre><p>where <code>sol</code> is the ODESolution object output by the DifferentialEquations package and <code>domain</code> is the domain <code>sol</code> corresponds to.  </p><h2><a class="nav-anchor" id="Useful-Properties-1" href="#Useful-Properties-1">Useful Properties</a></h2><h3><a class="nav-anchor" id="Thermodynamic-Properties-1" href="#Thermodynamic-Properties-1">Thermodynamic Properties</a></h3><p>Any thermodynamic property (T,P,V,C) at any given time <code>t</code> can be calculated in the format</p><pre><code class="language-none">getT(bsol,t)</code></pre><p>where T can be replaced by any of the other properties.  </p><h3><a class="nav-anchor" id="Mole-Fractions-1" href="#Mole-Fractions-1">Mole Fractions</a></h3><p>Mole fraction information can be retrieved using the <code>molefraction</code> function.   <code>molefraction(bsol)</code> will give the mole fractions of all species at the times <code>bsol.sol.t</code>.   <code>molefraction(bsol,t)</code> will the mole fractions of all species at time <code>t</code>.   <code>molefraction(bsol,name,t)</code> will give the mole fraction of the species with name <code>name</code> at time <code>t</code>.  </p><h3><a class="nav-anchor" id="ROPs-1" href="#ROPs-1">ROPs</a></h3><p>Rates of production/consumption (associated with each reaction and each species at a given time) can be retrived using the <code>rops</code> function.   <code>rops(bsol,t)</code> will the matrix of rops for all species and all reactions at time <code>t</code>.   <code>rops(bsol,name,t)</code> will give the array of rops for the species with name <code>name</code> at time <code>t</code>.  </p><h3><a class="nav-anchor" id="Concentration-Sensitivities-1" href="#Concentration-Sensitivities-1">Concentration Sensitivities</a></h3><p>Concentration sensitivities to rate coefficients and species gibbs free energies can be retrieved using the <code>getconcentrationsensitivity(bsol,numerator,denominator,t)</code> function.   Here <code>bsol</code> denotes the Simulation object, and <code>t</code> denotes the time.  The output is the sensitivity of the <code>numerator</code> to the <code>denominator</code>.  For species concentration and species thermo this is the name of the species for reactions this is the index of the reaction.  </p><h3><a class="nav-anchor" id="Rates-1" href="#Rates-1">Rates</a></h3><p>The function <code>rates</code> can be used to calculate the rates of all reactions at specific time points.   <code>rates(bsol,t)</code> will give the array of reaction rates at time <code>t</code> while <code>rates(bsol;ts)</code> will give a matrix of reaction rates at all times in <code>ts</code>.   Note that <code>ts</code> defaults to <code>bsol.sol.t</code>.  </p><h3><a class="nav-anchor" id="Other-Useful-Properties-1" href="#Other-Useful-Properties-1">Other Useful Properties</a></h3><p>Please let us know on our Github issues page if we&#39;re missing any important property calculators.  </p><h2><a class="nav-anchor" id="Plotting-1" href="#Plotting-1">Plotting</a></h2><h3><a class="nav-anchor" id="Plotting-Mole-Fractions-1" href="#Plotting-Mole-Fractions-1">Plotting Mole Fractions</a></h3><p>Mole fractions can be plotting using the <code>plotmolefractions</code> function <code>plotmolefractions(bsol, tf; t0=1e-15,N=1000,tol=0.01)</code> plots all species with molefraction greater than <code>tol</code> at <code>N</code> logarithmically spaced time points between <code>t0</code> and <code>tf</code>.   <code>plotmolefractions(bsol; tol=0.01)</code> plots all species with molefraction greater than <code>tol</code> at the points in <code>bsol.sol.t</code>.   <code>plotmolefractions(bsol,spcnames)</code> plots all the species with names in <code>spcnames</code> at the points in <code>bsol.sol.t</code>.  </p><h3><a class="nav-anchor" id="Plotting-Concentration-Sensitivity-1" href="#Plotting-Concentration-Sensitivity-1">Plotting Concentration Sensitivity</a></h3><p>Concentration sensitivities can be plotted using the <code>plotmaxthermosensitivity</code> and <code>plotmaxratesensitivity</code> functions.   Both of these follow the same format:   <code>plotmaxthermosensitivity(bsol, spcname; N=0, tol= 1e-2)</code> <code>spcname</code> corresponds to the species sensitivities are being calculated for, <code>N</code> is the maximum number of sensitive species/reactions plotted (0 corresponds to all of them), sensitive species/reactions with sensitivities less than <code>tol</code> are not included in the plot.  Note that the thermo sensitivities are given in mol/kcal while the rate sensitivities are fully non-dimensionalized (as displayed on the plots).  </p><h3><a class="nav-anchor" id="Plotting-ROPs-1" href="#Plotting-ROPs-1">Plotting ROPs</a></h3><p>ROPs can be plotted with the <code>plotrops</code> function.   <code>plotrops(bsol,name,t;N=0,tol=0.01)</code> will plot the ROPs for species with name <code>name</code> at time <code>t</code> including at most <code>N</code> reactions and not including reactions with absolute rates less than tol * the largest absolute rate.  This is a bar plot comparing the reactions that contribute the most to the production and loss of the species</p><p>The rops can be plotted with respect to time on a line plot using <code>plotrops(bsol,name;rxnrates=Array{Float64,1}(),ts=Array{Float64,1}(),tol=0.05)</code> in this case <code>rxnrates</code> corresponds to the matrix of reaction rates at each time point (can be expensive to compute so if available can be reused), <code>ts</code> correpsonds to a set of time points to plot at (otherwise defaults to <code>bsol.sol.t</code>), any reaction with flux smaller than <code>tol</code> * the largest absolute rate at every time point is excluded from the plot.  </p><h3><a class="nav-anchor" id="Other-Plots-1" href="#Other-Plots-1">Other Plots</a></h3><p>While we are trying to build up a library of plotting functions that make mechanism analysis easier we may not have the one you need.  However, the tools in the Useful Properties section should be enough most of the time. We&#39;re happy to provide guidance on our Github issues page and add plotting functions you find useful.  </p><h2><a class="nav-anchor" id="Flux-Diagrams-1" href="#Flux-Diagrams-1">Flux Diagrams</a></h2><p>RMS generates flux diagrams with molecular images (or names when images aren&#39;t available) using the <code>getfluxdiagram</code> function:  </p><pre><code class="language-none">getfluxdiagram(bsol,t;centralspecieslist=Array{String,1}(),superimpose=false,
    maximumnodecount=50, maximumedgecount=50, concentrationtol=1e-6, speciesratetolerance=1e-6,
    maximumnodepenwidth=10.0,maximumedgepenwidth=10.0,radius=1,centralreactioncount=-1,outputdirectory=&quot;fluxdiagrams&quot;)</code></pre><p>This generates a flux diagram at the time point <code>t</code>.  <code>centralspecieslist</code> denotes a list of species that must be included in the diagram, <code>maximumnodecount</code> denotes the maximum number of species in the diagram, <code>maximumedgecount</code> denotes the maximum number of connections between species, <code>concentrationtol</code> denotes the lowest fractional concentration to show in the diagram, <code>speciesratetolerance</code> denotes the lowest fraction species rate to show in the diagram, <code>maximumNodePenWidth</code> denotes the thickness of the border around a node a maximum concentration.  <code>maximumedgepenwidth</code> denotes the thickness of the edge at maximum species rate, <code>radius</code> is the graph radius plotted around a central species.  </p><h2><a class="nav-anchor" id="Other-Useful-Functionality-1" href="#Other-Useful-Functionality-1">Other Useful Functionality</a></h2><p><code>spcindex(bsol,name)</code> will give you the index of the species with name <code>name</code>.  </p><footer><hr/><a class="previous" href="../Simulating/"><span class="direction">Previous</span><span class="title">Simulations</span></a></footer></article></body></html>
